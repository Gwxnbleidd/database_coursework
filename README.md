**Вариант 11**

**Цель работы:** разработка БД дошкольных учреждений (ДУ)города
БД должна поддерживать выполнение следующих функций:
* учет дошкольных учреждений города (название, назначение, тип – муниципальное, коммерческое, ведомственное, контактные данные, профили, количество мест, стоимость, адрес, директор, телефон);
* учет детей, посещающих ДУ всех типов (ФИО ребенка и его родителей, возраст /дата рождения, сведения о родителях, категория, адрес);
* учет детей, стоящих в очереди в ДУ;
* изменение данных о детях;
* составление списка ДУ, в которых есть свободные места для детей заданного возраста;
* составление списка детей, нуждающихся в ДУ (по возрасту, категории);
* составление списка детей указанного ДУ.

## Реализация

### Технологический стек
- **Backend**: Python 3.13, Flask (веб-фреймворк)
- **База данных**: PostgreSQL
- **ORM**: SQLAlchemy 2.0
- **Дополнительные библиотеки**: psycopg (драйвер PostgreSQL), python-dotenv (управление переменными окружения)

### Архитектура приложения

#### Структура проекта
```
app/
├── main.py                 # Основной файл приложения с маршрутами Flask
├── config.py              # Конфигурация подключения к БД
├── requirements.txt        # Зависимости проекта
├── database/
│   ├── engine.py          # Настройка подключения к БД
│   ├── models.py          # SQLAlchemy модели данных
│   └── querys.py          # Бизнес-логика и запросы к БД
├── templates/             # HTML шаблоны
└── static/css/           # CSS стили
```

#### Модель данных
База данных реализована в схеме `du` и включает следующие таблицы:

1. **rebenok** - информация о детях (ФИО, дата рождения, адрес, категория)
2. **roditel** - информация о родителях (ФИО, контакты, роль)
3. **roditel_rebenka** - связующая таблица между детьми и родителями
4. **doshkolnoe_uchregdenie** - дошкольные учреждения (название, назначение, тип, контакты, количество мест, стоимость)
5. **tip_du** - типы ДУ (муниципальное, коммерческое, ведомственное)
6. **profil** - профили ДУ
7. **profil_v_du** - связь профилей с ДУ
8. **mesta_du** - места в ДУ (связь ребенка с ДУ, возрастная группа, занятость)
9. **ochered** - очередь в ДУ (ребенок, ДУ, дата постановки, приоритет)

#### Функциональность

**Веб-интерфейс** предоставляет следующие возможности:

1. **Просмотр данных:**
   - Список всех детей (`/get/childs/all`)
   - Список детей, посещающих ДУ (`/get/childs/attending_du`)
   - Список детей в очереди (`/get/childs/in_queue`)
   - Список всех ДУ (`/get/du/all`)

2. **Поиск и фильтрация:**
   - ДУ со свободными местами для определенного возраста (`/get/du/free_places/<age>`)
   - Дети, нуждающиеся в ДУ (с фильтрацией по возрасту и категории) (`/get/childs/needs_du`)
   - Дети конкретного ДУ (`/get/childs/special_du/<du_id>`)

3. **Редактирование данных:**
   - Изменение информации о детях (`/child/update`)

#### Особенности реализации

- **ORM-подход**: Использование SQLAlchemy для работы с базой данных обеспечивает типобезопасность и удобство разработки
- **Сессионное управление**: Автоматическое управление сессиями БД через контекстные менеджеры
- **Модульная архитектура**: Разделение логики на модели, запросы и представления
- **Веб-интерфейс**: Простой и интуитивный интерфейс для работы с данными
- **Гибкие запросы**: Возможность фильтрации данных по различным критериям

#### Запуск приложения

1. Установка зависимостей:
   ```bash
   pip install -r requirements.txt
   ```

2. Настройка переменных окружения (создать файл `.env`):
   ```
   URL=postgresql://username:password@localhost:5432/database_name
   ```

3. Запуск приложения:
   ```bash
   python main.py
   ```

Приложение будет доступно по адресу `http://localhost:8080`
